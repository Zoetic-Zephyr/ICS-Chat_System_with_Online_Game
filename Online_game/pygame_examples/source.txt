http://programarcadegames.com/index.php?chapter=example_code